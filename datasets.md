Data sources
============

# TfL data

The data from TfL includes details about cycling trips and docking stations. Although the API offers uniform access to several datasets, the riding data from the past has been stored in diverse formats that change over time. Two sources are used in this project:
    1. the bike docking stations location;
    2. the riding data for each bike rental, such as their start and end times and locations.
    
This latter dataset serves as the event data for the project.

## Locations data

The locations data can be retrieved [API](https://api-portal.tfl.gov.uk/api-details). The source requires authorization, so you need provide cookies while retrieving data from the source. The answer of the API is provided in JSON format.

Name | Data Type | Description
| :---: | :---: | :---:
Id | Int64 | Unique identifier for the station, used to join the locations data with the journeys data
Name | String | The name of the cycle station
TerminalName | Int64 | A second identifier for the station
Lat | Float32 | The latitude of the station
Long | Float32 | The longitude of the station
Locked | Bool | Whether or not this station is locked
Temporary | Boolean | Whether or not this is a temporary station
NbBikes | Int8 | The number of bikes currently located at this station
NbEmptyDocks | Int8 | How many more bikes the station has capacity for
NbDocks | Int8 | The total capacity in bikes of the station
NbStandardBikes | Int8 | Number of available standard bikes
NbEBikes | Int8 | Number of available E-Bikes

Note that some columns won't be used in our analytics. The `Nb*` columns are realtime variables, so they changes frequently and can't be used for our purposes.

## Rides data

The usage dataset consists of rows that represents a bike trip taken from one location to another. This dataset serves as the primary source of data for the central table generated by the pipeline. The weekly datasets are saved in CSV format, separated by commas. The format of the files vary highly, however all of them have common partterns:

Column Name | Data Type | Description
| :---: | :---: | :---:
rental_id | Int64 | A unique identifier for the ride
bike_id | Int64 | A unique identifier for the ride
start_datetime | DateTime | The time at which the journey began
start_station_id | Int64 | A unique identifier for the origin station, relates to the locations data ID
start_station_name | String | The name of the origin station
end_datetime | DateTime | The time at which the journey ended
end_station_id | Int64 | A unique identifier for the destination station, relates to the locations data ID
end_station_name | String | The name of the destination station

# Weather data

The weather dataset consists of rows with weather observations of a specific location on a particular day. The dataset includes observations for each point within a 5km by 5km grid across the UK. All data are [saved in netCDF format]((https://catalogue.ceda.ac.uk/uuid/4dc8450d889a491ebb20e724debe2dfb)) that contains details about every point: the latitude, longitude, and the measuremtn time.

The weather data we use are as follows:
- Daily __rainfall__ (mm)
- Daily __minimum temperature__ (degrees Celcius)
- Daily __maximum temperature__ (degrees Celcius)
